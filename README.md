# [데이콘] 소비자 데이터 기반 소비 예측 경진대회
## 개요
 두 번째로 참여한 대회로 Basic이라 데이터의 크기나 난이도가 높지 않아 초심자들에게 좋은 데이콘 대회인 것 같다.
데이터 크기는 1108 * 24 가 기본이라 예측대회용 자료론 매우 작아 원하는 조합의 하이퍼파라미터나 확인해보고 싶은 사실을
확인하는데 시간이 짧게 걸려 여러 방법들을 실험해볼 수 있었던 것 같다. 물론 실력이 부족해 등수가 좋게 나온 것은 아니었지만..
## EDA 및 전처리 
원래는 직접 그래프를 그려보고 feature-target 관련성이나 heatmap, countplot 같은 것들을 그려보면서 했으나
이번에 공유 코드에서 pandas_profiling이라는 좋은 라이브러리를 발견해 이용해봤다.
``` python
import pandas_profiling
train.profile_report()
```
미세하게 조정할 순 없지만 각 변수 별 분포나 상관관계 그래프, missing values와 중복 행까지 한번에 확인해주는 편리한 도구였다. 간단하게 overview 하고 싶을때 간간히 사용할 것 같다. 
데이터가 쇼핑몰 이용자 정보를 통해 소비를 얼마나 할지 예측하는 것이기에 소득이나 구매 횟수가 target과 연관성이 짙은 것으로 나왔다. 이와 관련된 파생변수로 '자녀 1인당 소득', '멤버십 기간', '나이', '총 구매횟수', 방문횟수 당 구매', '나이 그룹'을 생성하였고 범주형 변수는 라벨 인코딩을 해주었다.
데이터가 워낙 작아 이상치를 제거해주는 것이 오히려 성능을 떨어뜨려 나이가 100살 이상인 행 2개만 없애주었다. 
## 모델링
### Pycaret
전형적인 AutoML로 기본적인 값들만 지정해줘도 알아서 22개가 넘는 머신러닝 알고리즘들을 학습시켜주고 결과를 주루룩 보여주는 편한 패키지였다. 이전에 한 번 사용해본적은 있으나 이것만 사용하기엔 내 실력 향상에 전혀 도움이 되지 않으므로 어떤 알고리즘들이 점수가 좋게 나오는지 확인하는 용도로만 사용하였다. 
간단히 돌려본 결과, ExtraTrees, RandomForest, XGBoost, GradientBoost, LightGBM, CatBoost 이 6개의 모델이 좋은 성능을 보였다. 공유 코드에서도 단골로 보이는 모델들이라 반가웠다. 
### 개별 modeling
처음엔
